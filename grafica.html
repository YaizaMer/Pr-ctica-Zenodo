<html>

  <head>
    <meta charset="utf-8">    
    <title>Facilidades para hacer negocios en el Ecuador</title>
    <script src="d3.js" charset="utf-8"></script>

    <style>
      body {
        background-color: ##F5D0A9
      }


      svg {
        background-color: #F5D0A9
      }
    </style>

  </head>


  <body>

    <h4>Facilidades para hacer negocios en Ecuador</h4>

    <svg width="450px" height="250px">
    </svg>

    <script>

      /*La declaraci√≥n de la etiqueta SVG es equivalente a 

      var svg = d3.select("body")
                  .append("svg")
                  .attr("width",300)
                  .attr("height",400)

      */

           d3.csv("datos1.csv", function(dataFromCSV) {

          //ORDENAR DATOS
          dataFromCSV.sort(function(a,b) {
            return d3.descending(a.rank_2016,b.rank_2016);
          });

          var items = d3.select("svg").selectAll("rect").data(dataFromCSV)          

          //ENTER
          items.enter().append("rect")
            .attr("x",30)
            .attr("y", function(d,i) {
              return i * 15
            })
            .attr("width", function(d) {
              return d.rank_2016 * 2
            })
            .attr("height",10)
            .append("title")
            .text(function(d) {
              return "Parametro: " + d.topics + ""
            });


      });
    </script>

  </body>
</html>